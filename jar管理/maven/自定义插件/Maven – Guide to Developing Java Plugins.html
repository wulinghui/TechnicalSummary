<!DOCTYPE html>
<!-- saved from url=(0072)http://maven.apache.org/guides/plugin/guide-java-plugin-development.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Bob Allison
Vincent Siveton
Olivier Lamy">
    <meta name="Date-Creation-yyyymmdd" content="20130102">
    <meta name="Date-Revision-yyyymmdd" content="20190618">
    <meta http-equiv="Content-Language" content="en">
    <title>Maven – Guide to Developing Java Plugins</title>
    <link rel="stylesheet" href="./Maven – Guide to Developing Java Plugins_files/apache-maven-fluido-1.7.min.css">
    <link rel="stylesheet" href="./Maven – Guide to Developing Java Plugins_files/site.css">
    <link rel="stylesheet" href="./Maven – Guide to Developing Java Plugins_files/print.css" media="print">
    <script id="twitter-wjs" src="http://platform.twitter.com/widgets.js"></script><script type="text/javascript" async="" src="https://cse.google.com/brand?form=search-form"></script><script type="text/javascript" async="" src="./Maven – Guide to Developing Java Plugins_files/ga.js.下载"></script><script type="text/javascript" src="./Maven – Guide to Developing Java Plugins_files/apache-maven-fluido-1.7.min.js.下载"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-140879-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://www.apache.org/" id="bannerLeft"><img src="./Maven – Guide to Developing Java Plugins_files/apache-maven-project.png" alt="Apache Maven Site"></a></div>
        <div class="pull-right"><a href="http://maven.apache.org/" id="bannerRight"><img src="./Maven – Guide to Developing Java Plugins_files/maven-logo-black-on-white.png" alt=""></a></div>
        <div class="clear"><hr></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a><span class="divider">/</span></li>
      <li class=""><a href="http://maven.apache.org/index.html" title="Maven">Maven</a><span class="divider">/</span></li>
    <li class="active ">Guide to Developing Java Plugins <a href="https://github.com/apache/maven-site/tree/master/content/apt/guides/plugin/guide-java-plugin-development.apt"><img src="./Maven – Guide to Developing Java Plugins_files/accessories-text-editor.png" title="Edit"></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-06-18</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://maven.apache.org/scm.html" title="Get Sources">Get Sources</a></li>
      <li class="pull-right"><a href="http://maven.apache.org/download.cgi" title="Download">Download</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
    <li><a href="http://maven.apache.org/index.html" title="Welcome"><span class="none"></span>Welcome</a></li>
    <li><a href="https://www.apache.org/licenses/" class="externalLink" title="License"><span class="none"></span>License</a></li>
      <li class="nav-header">About Maven</li>
    <li><a href="http://maven.apache.org/what-is-maven.html" title="What is Maven?"><span class="none"></span>What is Maven?</a></li>
    <li><a href="http://maven.apache.org/maven-features.html" title="Features"><span class="none"></span>Features</a></li>
    <li><a href="http://maven.apache.org/download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="http://maven.apache.org/users/index.html" title="Use"><span class="icon-chevron-right"></span>Use</a></li>
    <li><a href="http://maven.apache.org/docs/history.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
      <li class="nav-header">Documentation</li>
    <li><a href="http://maven.apache.org/plugins/index.html" title="Maven Plugins"><span class="none"></span>Maven Plugins</a></li>
    <li><a href="http://maven.apache.org/guides/index.html" title="Index (category)"><span class="none"></span>Index (category)</a></li>
    <li><a href="http://maven.apache.org/users/index.html" title="User Centre"><span class="icon-chevron-right"></span>User Centre</a></li>
    <li><a href="http://maven.apache.org/plugin-developers/index.html" title="Plugin Developer Centre"><span class="icon-chevron-down"></span>Plugin Developer Centre</a>
    <ul class="nav nav-list">
    <li><a href="http://maven.apache.org/guides/introduction/introduction-to-plugins.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li class="active"><a href="http://maven.apache.org/guides/plugin/guide-java-plugin-development.html#"><span class="none"></span>Your First Mojo</a></li>
    <li><a href="http://maven.apache.org/guides/plugin/guide-java-report-plugin-development.html" title="Your First Report Mojo"><span class="none"></span>Your First Report Mojo</a></li>
    <li><a href="http://maven.apache.org/plugin-developers/plugin-testing.html" title="Testing Plugins"><span class="none"></span>Testing Plugins</a></li>
    <li><a href="http://maven.apache.org/plugin-developers/plugin-documenting.html" title="Documenting Plugins"><span class="none"></span>Documenting Plugins</a></li>
    <li><a href="http://maven.apache.org/plugin-developers/cookbook/index.html" title="Plugins Cookbook"><span class="icon-chevron-right"></span>Plugins Cookbook</a></li>
    <li><a href="http://maven.apache.org/developers/mojo-api-specification.html" title="Mojo API"><span class="none"></span>Mojo API</a></li>
    <li><a href="http://maven.apache.org/plugin-developers/common-bugs.html" title="Common Bugs and Pitfalls"><span class="none"></span>Common Bugs and Pitfalls</a></li>
    <li><a href="http://maven.apache.org/examples/maven-3-lifecycle-extensions.html" title="Maven Lifecycle Extensions"><span class="none"></span>Maven Lifecycle Extensions</a></li>
    </ul>
</li>
    <li><a href="http://maven.apache.org/repository/index.html" title="Maven Central Repository"><span class="icon-chevron-right"></span>Maven Central Repository</a></li>
    <li><a href="http://maven.apache.org/developers/index.html" title="Maven Developer Centre"><span class="icon-chevron-right"></span>Maven Developer Centre</a></li>
    <li><a href="http://maven.apache.org/articles.html" title="Books and Resources"><span class="none"></span>Books and Resources</a></li>
    <li><a href="http://maven.apache.org/security.html" title="Security"><span class="none"></span>Security</a></li>
      <li class="nav-header">Community</li>
    <li><a href="http://maven.apache.org/community.html" title="Community Overview"><span class="none"></span>Community Overview</a></li>
    <li><a href="http://maven.apache.org/project-roles.html" title="Project Roles"><span class="none"></span>Project Roles</a></li>
    <li><a href="http://maven.apache.org/guides/development/guide-helping.html" title="How to Contribute"><span class="none"></span>How to Contribute</a></li>
    <li><a href="http://maven.apache.org/users/getting-help.html" title="Getting Help"><span class="none"></span>Getting Help</a></li>
    <li><a href="http://maven.apache.org/issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a></li>
    <li><a href="http://maven.apache.org/scm.html" title="Getting Maven Source"><span class="none"></span>Getting Maven Source</a></li>
    <li><a href="http://maven.apache.org/team.html" title="The Maven Team"><span class="none"></span>The Maven Team</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="http://maven.apache.org/project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
      <li class="nav-header">Maven Projects</li>
    <li><a href="http://maven.apache.org/archetype/index.html" title="Archetype"><span class="none"></span>Archetype</a></li>
    <li><a href="http://maven.apache.org/resolver/index.html" title="Artifact Resolver"><span class="none"></span>Artifact Resolver</a></li>
    <li><a href="http://maven.apache.org/doxia/index.html" title="Doxia"><span class="none"></span>Doxia</a></li>
    <li><a href="http://maven.apache.org/jxr/index.html" title="JXR"><span class="none"></span>JXR</a></li>
    <li><a href="http://maven.apache.org/ref/current" title="Maven"><span class="none"></span>Maven</a></li>
    <li><a href="http://maven.apache.org/pom/index.html" title="Parent POMs"><span class="none"></span>Parent POMs</a></li>
    <li><a href="http://maven.apache.org/plugins/index.html" title="Plugins"><span class="none"></span>Plugins</a></li>
    <li><a href="http://maven.apache.org/plugin-testing/index.html" title="Plugin Testing"><span class="none"></span>Plugin Testing</a></li>
    <li><a href="http://maven.apache.org/plugin-tools/index.html" title="Plugin Tools"><span class="none"></span>Plugin Tools</a></li>
    <li><a href="http://maven.apache.org/apache-resource-bundles/index.html" title="Resource Bundles"><span class="none"></span>Resource Bundles</a></li>
    <li><a href="http://maven.apache.org/scm/index.html" title="SCM"><span class="none"></span>SCM</a></li>
    <li><a href="http://maven.apache.org/shared/index.html" title="Shared Components"><span class="none"></span>Shared Components</a></li>
    <li><a href="http://maven.apache.org/skins/index.html" title="Skins"><span class="none"></span>Skins</a></li>
    <li><a href="http://maven.apache.org/surefire/index.html" title="Surefire"><span class="none"></span>Surefire</a></li>
    <li><a href="http://maven.apache.org/wagon/index.html" title="Wagon"><span class="none"></span>Wagon</a></li>
      <li class="nav-header">ASF</li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works"><span class="none"></span>How Apache Works</a></li>
    <li><a href="https://www.apache.org/foundation/" class="externalLink" title="Foundation"><span class="none"></span>Foundation</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache"><span class="none"></span>Sponsoring Apache</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"><span class="none"></span>Thanks</a></li>
</ul>
<form id="search-form" action="https://www.google.com/search" method="get">
  <input value="https://maven.apache.org" name="sitesearch" type="hidden">
  <input class="search-query" name="q" id="query" type="text">
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr>
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
    <div id="twitter">
    <a href="https://twitter.com/ASFMavenProject" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ASFMavenProject</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./Maven – Guide to Developing Java Plugins_files/maven-feather.png"></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn" class="span10">
<section>
<h2><a name="Introduction"></a>Introduction</h2>
<p>This guide is intended to assist users in developing Java plugins for Maven.</p><section>
<h3><a name="Important_Notice:_Plugin_Naming_Convention_and_Apache_Maven_Trademark"></a>Important Notice: <a name="Plugin_Naming_Convention_and_Apache_Maven_Trademark">Plugin Naming Convention and Apache Maven Trademark</a></h3>
<p>You will typically name your plugin <code>&lt;yourplugin&gt;-maven-plugin</code>.</p>
<p>Calling it <code>maven-&lt;yourplugin&gt;-plugin</code> (note "Maven" is at the beginning of the plugin name) is <b>strongly discouraged</b> since it's a <b>reserved naming pattern for official Apache Maven plugins maintained by the Apache Maven team</b> with groupId <code>org.apache.maven.plugins</code>. Using this naming pattern is an infringement of the Apache Maven Trademark.</p></section><section>
<h3><a name="Your_First_Plugin"></a>Your First Plugin</h3>
<p>In this section we will build a simple plugin with one goal which takes no parameters and simply displays a message on the screen when run. Along the way, we will cover the basics of setting up a project to create a plugin, the minimal contents of a Java mojo which will define goal code, and a couple ways to execute the mojo.</p><section>
<h4><a name="Your_First_Mojo"></a>Your First Mojo</h4>
<p>At its simplest, a Java mojo consists simply of a single class representing one plugin's goal. There is no requirement for multiple classes like EJBs, although a plugin which contains a number of similar mojos is likely to use an abstract superclass for the mojos to consolidate code common to all mojos.</p>
<p>When processing the source tree to find mojos, <a href="http://maven.apache.org/plugin-tools/"> <code>plugin-tools</code></a> looks for classes with either <code>@Mojo</code> Java 5 annotation or "<code>goal</code>" javadoc annotation. Any class with this annotation are included in the plugin configuration file.</p><section>
<h5><a name="A_Simple_Mojo"></a>A Simple Mojo</h5>
<p>Listed below is a simple mojo class which has no parameters. This is about as simple as a mojo can be. After the listing is a description of the various parts of the source.</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> sample</span><span class="pun">.</span><span class="pln">plugin</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">maven</span><span class="pun">.</span><span class="pln">plugin</span><span class="pun">.</span><span class="typ">AbstractMojo</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">maven</span><span class="pun">.</span><span class="pln">plugin</span><span class="pun">.</span><span class="typ">MojoExecutionException</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">maven</span><span class="pun">.</span><span class="pln">plugins</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">Mojo</span><span class="pun">;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="com">/**</span></li><li class="L7"><span class="com"> * Says "Hi" to the user.</span></li><li class="L8"><span class="com"> *</span></li><li class="L9"><span class="com"> */</span></li><li class="L0"><span class="lit">@Mojo</span><span class="pun">(</span><span class="pln"> name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"sayhi"</span><span class="pun">)</span></li><li class="L1"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">GreetingMojo</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">AbstractMojo</span></li><li class="L2"><span class="pun">{</span></li><li class="L3"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> execute</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">MojoExecutionException</span></li><li class="L4"><span class="pln">    </span><span class="pun">{</span></li><li class="L5"><span class="pln">        getLog</span><span class="pun">().</span><span class="pln">info</span><span class="pun">(</span><span class="pln"> </span><span class="str">"Hello, world."</span><span class="pln"> </span><span class="pun">);</span></li><li class="L6"><span class="pln">    </span><span class="pun">}</span></li><li class="L7"><span class="pun">}</span></li></ol></pre></div>
<ul>
<li>The class <code>org.apache.maven.plugin.AbstractMojo</code> provides most of the infrastructure required to implement a mojo except for the <code>execute</code> method.</li>
<li>The annotation "<code>@Mojo</code>" is required and control how and when the mojo is executed.</li>
<li>The <code>execute</code> method can throw two exceptions:
<ul>
<li><code>org.apache.maven.plugin.MojoExecutionException</code> if an unexpected problem occurs. Throwing this exception causes a "BUILD ERROR" message to be displayed.</li>
<li><code>org.apache.maven.plugin.MojoFailureException</code> if an expected problem (such as a compilation failure) occurs. Throwing this exception causes a "BUILD FAILURE" message to be displayed.</li></ul></li>
<li>The <code>getLog</code> method (defined in <code>AbstractMojo</code>) returns a log4j-like logger object which allows plugins to create messages at levels of "debug", "info", "warn", and "error". This logger is the accepted means to display information to the user. Please have a look at the section <a href="http://maven.apache.org/plugin-developers/common-bugs.html#Retrieving_the_Mojo_Logger">Retrieving the Mojo Logger</a> for a hint on its proper usage.</li></ul>
<p>All Mojo annotations are described by the <a href="http://maven.apache.org/developers/mojo-api-specification.html#The_Descriptor_and_Annotations">Mojo API Specification</a>.</p></section></section><section>
<h4><a name="Project_Definition"></a>Project Definition</h4>
<p>Once the mojos have been written for the plugin, it is time to build the plugin. To do this properly, the project's descriptor needs to have a number of settings set properly:</p>
<table border="1" class="table table-striped">
<tbody><tr class="a">
<td align="left"><code>groupId</code></td>
<td align="left">This is the group ID for the plugin, and should match the common prefix to the packages used by the mojos</td></tr>
<tr class="b">
<td align="left"><code>artifactId</code></td>
<td align="left">This is the name of the plugin</td></tr>
<tr class="a">
<td align="left"><code>version</code></td>
<td align="left">This is the version of the plugin</td></tr>
<tr class="b">
<td align="left"><code>packaging</code></td>
<td align="left">This should be set to "<code>maven-plugin</code>"</td></tr>
<tr class="a">
<td align="left"><code>dependencies</code></td>
<td align="left">A dependency must be declared to the Maven Plugin Tools API to resolve "<code>AbstractMojo</code>" and related classes</td></tr></tbody></table>
<p>Listed below is an illustration of the sample mojo project's pom with the parameters set as described in the above table:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;project&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;modelVersion&gt;</span><span class="pln">4.0.0</span><span class="tag">&lt;/modelVersion&gt;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">  </span><span class="tag">&lt;groupId&gt;</span><span class="pln">sample.plugin</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">  </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hello-maven-plugin</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">  </span><span class="tag">&lt;version&gt;</span><span class="pln">1.0-SNAPSHOT</span><span class="tag">&lt;/version&gt;</span></li><li class="L6"><span class="pln">  </span><span class="tag">&lt;packaging&gt;</span><span class="pln">maven-plugin</span><span class="tag">&lt;/packaging&gt;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">  </span><span class="tag">&lt;name&gt;</span><span class="pln">Sample Parameter-less Maven Plugin</span><span class="tag">&lt;/name&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">  </span><span class="tag">&lt;dependencies&gt;</span></li><li class="L1"><span class="pln">    </span><span class="tag">&lt;dependency&gt;</span></li><li class="L2"><span class="pln">      </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.apache.maven</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L3"><span class="pln">      </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">maven-plugin-api</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L4"><span class="pln">      </span><span class="tag">&lt;version&gt;</span><span class="pln">3.0</span><span class="tag">&lt;/version&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="com">&lt;!-- dependencies to annotations --&gt;</span></li><li class="L8"><span class="pln">    </span><span class="tag">&lt;dependency&gt;</span></li><li class="L9"><span class="pln">      </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.apache.maven.plugin-tools</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L0"><span class="pln">      </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">maven-plugin-annotations</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L1"><span class="pln">      </span><span class="tag">&lt;version&gt;</span><span class="pln">3.4</span><span class="tag">&lt;/version&gt;</span></li><li class="L2"><span class="pln">      </span><span class="tag">&lt;scope&gt;</span><span class="pln">provided</span><span class="tag">&lt;/scope&gt;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L4"><span class="pln">  </span><span class="tag">&lt;/dependencies&gt;</span></li><li class="L5"><span class="tag">&lt;/project&gt;</span></li></ol></pre></div></section><section>
<h4><a name="Building_a_Plugin"></a>Building a Plugin</h4>
<p>There are few plugins goals bound to the standard build lifecycle defined with the <code>maven-plugin</code> packaging:</p>
<table border="1" class="table table-striped">
<tbody><tr class="a">
<td align="left"><code>compile</code></td>
<td align="left">Compiles the Java code for the plugin</td></tr>
<tr class="b">
<td align="left"><code>process-classes</code></td>
<td align="left">Extracts data to build the <a href="http://maven.apache.org/ref/current/maven-plugin-api/plugin.html">plugin descriptor</a></td></tr>
<tr class="a">
<td align="left"><code>test</code></td>
<td align="left">Runs the plugin's unit tests</td></tr>
<tr class="b">
<td align="left"><code>package</code></td>
<td align="left">Builds the plugin jar</td></tr>
<tr class="a">
<td align="left"><code>install</code></td>
<td align="left">Installs the plugin jar in the local repository</td></tr>
<tr class="b">
<td align="left"><code>deploy</code></td>
<td align="left">Deploys the plugin jar to the remote repository</td></tr></tbody></table>
<p>For more details, you can look at <a href="http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_maven-plugin_packaging"> detailed bindings for <code>maven-plugin</code> packaging</a>.</p></section><section>
<h4><a name="Executing_Your_First_Mojo"></a>Executing Your First Mojo</h4>
<p>The most direct means of executing your new plugin is to specify the plugin goal directly on the command line. To do this, you need to configure the <code>hello-maven-plugin</code> plugin in you project:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pun">...</span></li><li class="L1"><span class="pln">  </span><span class="str">&lt;build&gt;</span></li><li class="L2"><span class="pln">    </span><span class="str">&lt;plugins&gt;</span></li><li class="L3"><span class="pln">      </span><span class="str">&lt;plugin&gt;</span></li><li class="L4"><span class="pln">        </span><span class="str">&lt;groupId&gt;</span><span class="pln">sample</span><span class="pun">.</span><span class="pln">plugin</span><span class="pun">&lt;</span><span class="str">/groupId&gt;</span></li><li class="L5"><span class="str">        &lt;artifactId&gt;hello-maven-plugin&lt;/</span><span class="pln">artifactId</span><span class="pun">&gt;</span></li><li class="L6"><span class="pln">        </span><span class="str">&lt;version&gt;</span><span class="lit">1.0</span><span class="pun">-</span><span class="pln">SNAPSHOT</span><span class="pun">&lt;</span><span class="str">/version&gt;</span></li><li class="L7"><span class="str">      &lt;/</span><span class="pln">plugin</span><span class="pun">&gt;</span></li><li class="L8"><span class="pln">    </span><span class="pun">&lt;</span><span class="str">/plugins&gt;</span></li><li class="L9"><span class="str">  &lt;/</span><span class="pln">build</span><span class="pun">&gt;</span></li><li class="L0"><span class="pun">...</span></li></ol></pre></div>
<p>And, you need to specify a fully-qualified goal in the form of:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">mvn groupId</span><span class="pun">:</span><span class="pln">artifactId</span><span class="pun">:</span><span class="pln">version</span><span class="pun">:</span><span class="pln">goal</span></li></ol></pre></div>
<p>For example, to run the simple mojo in the sample plugin, you would enter "<code>mvn sample.plugin:hello-maven-plugin:1.0-SNAPSHOT:sayhi</code>" on the command line.</p>
<p><b>Tips</b>: <code>version</code> is not required to run a standalone goal.</p><section>
<h5><a name="Shortening_the_Command_Line"></a>Shortening the Command Line</h5>
<p>There are several ways to reduce the amount of required typing:</p>
<ul>
<li>If you need to run the latest version of a plugin installed in your local repository, you can omit its version number. So just use "<code>mvn sample.plugin:hello-maven-plugin:sayhi</code>" to run your plugin.</li>
<li>You can assign a shortened prefix to your plugin, such as <code>mvn hello:sayhi</code>. This is done automatically if you follow the convention of using <code>${prefix}-maven-plugin</code> (or <code>maven-${prefix}-plugin</code> if the plugin is part of the Apache Maven project). You may also assign one through additional configuration - for more information see <a href="http://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html"> Introduction to Plugin Prefix Mapping</a>.</li>
<li>Finally, you can also add your plugin's groupId to the list of groupIds searched by default. To do this, you need to add the following to your <code>${user.home}/.m2/settings.xml</code> file:
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;pluginGroups&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;pluginGroup&gt;</span><span class="pln">sample.plugin</span><span class="tag">&lt;/pluginGroup&gt;</span></li><li class="L2"><span class="tag">&lt;/pluginGroups&gt;</span></li></ol></pre></div></li></ul>
<p>At this point, you can run the mojo with "<code>mvn hello:sayhi</code>".</p></section><section>
<h5><a name="Attaching_the_Mojo_to_the_Build_Lifecycle"></a>Attaching the Mojo to the Build Lifecycle</h5>
<p>You can also configure your plugin to attach specific goals to a particular phase of the build lifecycle. Here is an example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">  </span><span class="tag">&lt;build&gt;</span></li><li class="L1"><span class="pln">    </span><span class="tag">&lt;plugins&gt;</span></li><li class="L2"><span class="pln">      </span><span class="tag">&lt;plugin&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;groupId&gt;</span><span class="pln">sample.plugin</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hello-maven-plugin</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;version&gt;</span><span class="pln">1.0-SNAPSHOT</span><span class="tag">&lt;/version&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;executions&gt;</span></li><li class="L7"><span class="pln">          </span><span class="tag">&lt;execution&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;phase&gt;</span><span class="pln">compile</span><span class="tag">&lt;/phase&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;goals&gt;</span></li><li class="L0"><span class="pln">              </span><span class="tag">&lt;goal&gt;</span><span class="pln">sayhi</span><span class="tag">&lt;/goal&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;/goals&gt;</span></li><li class="L2"><span class="pln">          </span><span class="tag">&lt;/execution&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;/executions&gt;</span></li><li class="L4"><span class="pln">      </span><span class="tag">&lt;/plugin&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;/plugins&gt;</span></li><li class="L6"><span class="pln">  </span><span class="tag">&lt;/build&gt;</span></li></ol></pre></div>
<p>This causes the simple mojo to be executed whenever Java code is compiled. For more information on binding a mojo to phases in the lifecycle, please refer to the <a href="http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">Build Lifecycle</a> document.</p></section></section></section><section>
<h3><a name="Mojo_archetype"></a>Mojo archetype</h3>
<p>To create a new plugin project, you could using the Mojo <a href="http://maven.apache.org/guides/introduction/introduction-to-archetypes.html">archetype</a> with the following command line:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">mvn archetype</span><span class="pun">:</span><span class="pln">generate \</span></li><li class="L1"><span class="pln">  </span><span class="pun">-</span><span class="typ">DgroupId</span><span class="pun">=</span><span class="pln">sample</span><span class="pun">.</span><span class="pln">plugin \</span></li><li class="L2"><span class="pln">  </span><span class="pun">-</span><span class="typ">DartifactId</span><span class="pun">=</span><span class="pln">hello</span><span class="pun">-</span><span class="pln">maven</span><span class="pun">-</span><span class="pln">plugin \</span></li><li class="L3"><span class="pln">  </span><span class="pun">-</span><span class="typ">DarchetypeGroupId</span><span class="pun">=</span><span class="pln">org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">maven</span><span class="pun">.</span><span class="pln">archetypes \</span></li><li class="L4"><span class="pln">  </span><span class="pun">-</span><span class="typ">DarchetypeArtifactId</span><span class="pun">=</span><span class="pln">maven</span><span class="pun">-</span><span class="pln">archetype</span><span class="pun">-</span><span class="pln">plugin</span></li></ol></pre></div></section><section>
<h3><a name="Parameters">Parameters</a></h3>
<p>It is unlikely that a mojo will be very useful without parameters. Parameters provide a few very important functions:</p>
<ul>
<li>It provides hooks to allow the user to adjust the operation of the plugin to suit their needs.</li>
<li>It provides a means to easily extract the value of elements from the POM without the need to navigate the objects.</li></ul><section>
<h4><a name="Defining_Parameters_Within_a_Mojo"></a>Defining Parameters Within a Mojo</h4>
<p>Defining a parameter is as simple as creating an instance variable in the mojo and adding the proper annotations. Listed below is an example of a parameter for the simple mojo:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * The greeting to display.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span><span class="pun">(</span><span class="pln"> property </span><span class="pun">=</span><span class="pln"> </span><span class="str">"sayhi.greeting"</span><span class="pun">,</span><span class="pln"> defaultValue </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Hello World!"</span><span class="pln"> </span><span class="pun">)</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> greeting</span><span class="pun">;</span></li></ol></pre></div>
<p>The portion before the annotations is the description of the parameter. The <code>parameter</code> annotation identifies the variable as a mojo parameter. The <code>defaultValue</code> parameter of the annotation defines the default value for the variable. This value can include expressions which reference the project, such as "<code>${project.version}</code>" (more can be found in the <a href="http://maven.apache.org/ref/current/maven-core/apidocs/org/apache/maven/plugin/PluginParameterExpressionEvaluator.html">"Parameter Expressions" document</a>). The <code>property</code> parameter can be used to allow configuration of the mojo parameter from the command line by referencing a system property that the user sets via the <code>-D</code> option.</p></section><section>
<h4><a name="Configuring_Parameters_in_a_Project"></a>Configuring Parameters in a Project</h4>
<p>Configuring the parameter values for a plugin is done in a Maven project within the <code>pom.xml</code> file as part of defining the plugin in the project. An example of configuring a plugin:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;plugin&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;groupId&gt;</span><span class="pln">sample.plugin</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L2"><span class="pln">  </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hello-maven-plugin</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L3"><span class="pln">  </span><span class="tag">&lt;version&gt;</span><span class="pln">1.0-SNAPSHOT</span><span class="tag">&lt;/version&gt;</span></li><li class="L4"><span class="pln">  </span><span class="tag">&lt;configuration&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;greeting&gt;</span><span class="pln">Welcome</span><span class="tag">&lt;/greeting&gt;</span></li><li class="L6"><span class="pln">  </span><span class="tag">&lt;/configuration&gt;</span></li><li class="L7"><span class="tag">&lt;/plugin&gt;</span></li></ol></pre></div>
<p>In the configuration section, the element name ("<code>greeting</code>") is the parameter name and the contents of the element ("<code>Welcome</code>") is the value to be assigned to the parameter.</p>
<p><b>Note</b>: More details can be found in the <a href="http://maven.apache.org/guides/mini/guide-configuring-plugins.html">Guide to Configuring Plugins</a>.</p></section><section>
<h4><a name="Parameter_Types_With_One_Value"></a>Parameter Types With One Value</h4>
<p>Listed below are the various types of simple variables which can be used as parameters in your mojos, along with any rules on how the values in the POM are interpreted.</p><section>
<h5><a name="Boolean"></a>Boolean</h5>
<p>This includes variables typed <code>boolean</code> and <code>Boolean</code>. When reading the configuration, the text "<code>true</code>" causes the parameter to be set to true and all other text causes the parameter to be set to false. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My boolean.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> myBoolean</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myBoolean&gt;</span><span class="pln">true</span><span class="tag">&lt;/myBoolean&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Integer_Numbers"></a>Integer Numbers</h5>
<p>This includes variables typed <code>byte</code>, <code>Byte</code>, <code>int</code>, <code>Integer</code>, <code>long</code>, <code>Long</code>, <code>short</code>, and <code>Short</code>. When reading the configuration, the text in the XML file is converted to an integer value using either <code>Integer.parseInt()</code> or the <code>valueOf()</code> method of the appropriate class. This means that the strings must be valid decimal integer values, consisting only of the digits 0 to 9 with an optional <code>-</code> in front for a negative value. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Integer.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Integer</span><span class="pln"> myInteger</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myInteger&gt;</span><span class="pln">10</span><span class="tag">&lt;/myInteger&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Floating-Point_Numbers"></a>Floating-Point Numbers</h5>
<p>This includes variables typed <code>double</code>, <code>Double</code>, <code>float</code>, and <code>Float</code>. When reading the configuration, the text in the XML file is converted to binary form using the <code>valueOf()</code> method for the appropriate class. This means that the strings can take on any format specified in section 3.10.2 of the Java Language Specification. Some samples of valid values are <code>1.0</code> and <code>6.02E+23</code>.</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Double.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Double</span><span class="pln"> myDouble</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myDouble&gt;</span><span class="pln">1.0</span><span class="tag">&lt;/myDouble&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Dates"></a>Dates</h5>
<p>This includes variables typed <code>Date</code>. When reading the configuration, the text in the XML file is converted using one of the following date formats: "<code>yyyy-MM-dd HH:mm:ss.S a</code>" (a sample date is "2005-10-06 2:22:55.1 PM") or "<code>yyyy-MM-dd HH:mm:ssa</code>" (a sample date is "2005-10-06 2:22:55PM"). Note that parsing is done using <code>DateFormat.parse()</code> which allows some leniency in formatting. If the method can parse a date and time out of what is specified it will do so even if it doesn't exactly match the patterns above. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Date.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Date</span><span class="pln"> myDate</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myDate&gt;</span><span class="pln">2005-10-06 2:22:55.1 PM</span><span class="tag">&lt;/myDate&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Files_and_Directories"></a>Files and Directories</h5>
<p>This includes variables typed <code>File</code>. When reading the configuration, the text in the XML file is used as the path to the desired file or directory. If the path is relative (does not start with <code>/</code> or a drive letter like <code>C:</code>), the path is relative to the directory containing the POM. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My File.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">File</span><span class="pln"> myFile</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myFile&gt;</span><span class="pln">c:\temp</span><span class="tag">&lt;/myFile&gt;</span></li></ol></pre></div></section><section>
<h5><a name="URLs"></a>URLs</h5>
<p>This includes variables typed <code>URL</code>. When reading the configuration, the text in the XML file is used as the URL. The format must follow the RFC 2396 guidelines, and looks like any web browser URL (<code>scheme://host:port/path/to/file</code>). No restrictions are placed on the content of any of the parts of the URL while converting the URL.</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My URL.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> URL myURL</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myURL&gt;</span><span class="pln">http://maven.apache.org</span><span class="tag">&lt;/myURL&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Plain_Text"></a>Plain Text</h5>
<p>This includes variables typed <code>char</code>, <code>Character</code>, <code>StringBuffer</code>, and <code>String</code>. When reading the configuration, the text in the XML file is used as the value to be assigned to the parameter. For <code>char</code> and <code>Character</code> parameters, only the first character of the text is used.</p></section><section>
<h5><a name="Enums"></a>Enums</h5>
<p>Enumeration type parameters can also be used. First you need to define your enumeration type and afterwards you can use the enumeration type in the parameter definition:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">enum</span><span class="pln"> </span><span class="typ">Color</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">      GREEN</span><span class="pun">,</span></li><li class="L2"><span class="pln">      RED</span><span class="pun">,</span></li><li class="L3"><span class="pln">      BLUE</span></li><li class="L4"><span class="pln">    </span><span class="pun">}</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">    </span><span class="com">/**</span></li><li class="L7"><span class="com">     * My Enum</span></li><li class="L8"><span class="com">     */</span></li><li class="L9"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L0"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Color</span><span class="pln"> myColor</span><span class="pun">;</span></li></ol></pre></div>
<p>So lets have a look like you can use such enumeration in your pom configuration:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myColor&gt;</span><span class="pln">GREEN</span><span class="tag">&lt;/myColor&gt;</span></li></ol></pre></div>
<p>You can also use elements from the enumeration type as defaultValues like the following:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">enum</span><span class="pln"> </span><span class="typ">Color</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">      GREEN</span><span class="pun">,</span></li><li class="L2"><span class="pln">      RED</span><span class="pun">,</span></li><li class="L3"><span class="pln">      BLUE</span></li><li class="L4"><span class="pln">    </span><span class="pun">}</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">    </span><span class="com">/**</span></li><li class="L7"><span class="com">     * My Enum</span></li><li class="L8"><span class="com">     */</span></li><li class="L9"><span class="pln">    </span><span class="lit">@Parameter</span><span class="pun">(</span><span class="pln">defaultValue </span><span class="pun">=</span><span class="pln"> </span><span class="str">"GREEN"</span><span class="pun">)</span></li><li class="L0"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Color</span><span class="pln"> myColor</span><span class="pun">;</span></li></ol></pre></div></section></section><section>
<h4><a name="Parameter_Types_With_Multiple_Values"></a>Parameter Types With Multiple Values</h4>
<p>Listed below are the various types of composite objects which can be used as parameters in your mojos, along with any rules on how the values in the POM are interpreted. In general, the class of the object created to hold the parameter value (as well as the class for each element within the parameter value) is determined as follows (the first step which yields a valid class is used):</p>
<ol style="list-style-type: decimal">
<li>If the XML element contains an <code>implementation</code> hint attribute, that is used</li>
<li>If the XML tag contains a <code>.</code>, try that as a fully qualified class name</li>
<li>Try the XML tag (with capitalized first letter) as a class in the same package as the mojo/object being configured</li>
<li>For arrays, use the component type of the array (for example, use <code>String</code> for a <code>String[]</code> parameter); for collections and maps, use the class specified in the mojo configuration for the collection or map; use <code>String</code> for entries in a collection and values in a map</li></ol>
<p>Once the type for the element is defined, the text in the XML file is converted to the appropriate type of object</p><section>
<h5><a name="Arrays"></a>Arrays</h5>
<p>Array type parameters are configured by specifying the parameter multiple times. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Array.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> myArray</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myArray&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;param&gt;</span><span class="pln">value1</span><span class="tag">&lt;/param&gt;</span></li><li class="L2"><span class="pln">  </span><span class="tag">&lt;param&gt;</span><span class="pln">value2</span><span class="tag">&lt;/param&gt;</span></li><li class="L3"><span class="tag">&lt;/myArray&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Collections"></a>Collections</h5>
<p>This category covers any class which implements <code>java.util.Collection</code> such as <code>ArrayList</code> or <code>HashSet</code>. These parameters are configured by specifying the parameter multiple times just like an array. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My List.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pln"> myList</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myList&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;param&gt;</span><span class="pln">value1</span><span class="tag">&lt;/param&gt;</span></li><li class="L2"><span class="pln">  </span><span class="tag">&lt;param&gt;</span><span class="pln">value2</span><span class="tag">&lt;/param&gt;</span></li><li class="L3"><span class="tag">&lt;/myList&gt;</span></li></ol></pre></div>
<p>For details on the mapping of the individual collection elements, see <a href="http://maven.apache.org/guides/mini/guide-configuring-plugins.html#Mapping_Lists">Mapping Lists</a>.</p></section><section>
<h5><a name="Maps"></a>Maps</h5>
<p>This category covers any class which implements <code>java.util.Map</code> such as <code>HashMap</code> but does <b>not</b> implement <code>java.util.Properties</code>. These parameters are configured by including XML tags in the form <code> &lt;key&gt;value&lt;/key&gt; </code> in the parameter configuration. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Map.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Map</span><span class="pln"> myMap</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myMap&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;key1&gt;</span><span class="pln">value1</span><span class="tag">&lt;/key1&gt;</span></li><li class="L2"><span class="pln">  </span><span class="tag">&lt;key2&gt;</span><span class="pln">value2</span><span class="tag">&lt;/key2&gt;</span></li><li class="L3"><span class="tag">&lt;/myMap&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Properties"></a>Properties</h5>
<p>This category covers any map which implements <code>java.util.Properties</code>. These parameters are configured by including XML tags in the form <code> &lt;property&gt;&lt;name&gt;myName&lt;/name&gt; &lt;value&gt;myValue&lt;/value&gt; &lt;/property&gt; </code> in the parameter configuration. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Properties.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Properties</span><span class="pln"> myProperties</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myProperties&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;property&gt;</span></li><li class="L2"><span class="pln">    </span><span class="tag">&lt;name&gt;</span><span class="pln">propertyName1</span><span class="tag">&lt;/name&gt;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;value&gt;</span><span class="pln">propertyValue1</span><span class="tag">&lt;/value&gt;</span></li><li class="L4"><span class="pln">  </span><span class="tag">&lt;property&gt;</span></li><li class="L5"><span class="pln">  </span><span class="tag">&lt;property&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;name&gt;</span><span class="pln">propertyName2</span><span class="tag">&lt;/name&gt;</span></li><li class="L7"><span class="pln">    </span><span class="tag">&lt;value&gt;</span><span class="pln">propertyValue2</span><span class="tag">&lt;/value&gt;</span></li><li class="L8"><span class="pln">  </span><span class="tag">&lt;property&gt;</span></li><li class="L9"><span class="tag">&lt;/myProperties&gt;</span></li></ol></pre></div></section><section>
<h5><a name="Other_Object_Classes"></a>Other Object Classes</h5>
<p>This category covers any class which does not implement <code>java.util.Map</code>, <code>java.util.Collection</code>, or <code>java.util.Dictionary</code>. Example:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="pln">    </span><span class="com">/**</span></li><li class="L1"><span class="com">     * My Object.</span></li><li class="L2"><span class="com">     */</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">MyObject</span><span class="pln"> myObject</span><span class="pun">;</span></li></ol></pre></div>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="tag">&lt;myObject&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;myField&gt;</span><span class="pln">test</span><span class="tag">&lt;/myField&gt;</span></li><li class="L2"><span class="tag">&lt;/myObject&gt;</span></li></ol></pre></div>
<p>Please see <a href="http://maven.apache.org/guides/mini/guide-configuring-plugins.html#Mapping_Complex_Objects">Mapping Complex Objects</a> for details on the strategy used to configure those kind of parameters.</p></section></section></section><section>
<h3><a name="Using_Setters"></a>Using Setters</h3>
<p>You are not restricted to using private field mapping which is good if you are trying to make you Mojos resuable outside the context of Maven. Using the example above we could name our private fields using the underscore convention and provide setters that the configuration mapping mechanism can use. So our Mojo would look like the following:</p>
<div class="source"><pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MyQueryMojo</span></li><li class="L1"><span class="pln">    </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">AbstractMojo</span></li><li class="L2"><span class="pun">{</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Parameter</span><span class="pun">(</span><span class="pln">property</span><span class="pun">=</span><span class="str">"url"</span><span class="pun">)</span></li><li class="L4"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> _url</span><span class="pun">;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">    </span><span class="lit">@Parameter</span><span class="pun">(</span><span class="pln">property</span><span class="pun">=</span><span class="str">"timeout"</span><span class="pun">)</span></li><li class="L7"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> _timeout</span><span class="pun">;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="lit">@Parameter</span><span class="pun">(</span><span class="pln">property</span><span class="pun">=</span><span class="str">"options"</span><span class="pun">)</span></li><li class="L0"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> _options</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setUrl</span><span class="pun">(</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url </span><span class="pun">)</span></li><li class="L3"><span class="pln">    </span><span class="pun">{</span></li><li class="L4"><span class="pln">        _url </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span></li><li class="L5"><span class="pln">    </span><span class="pun">}</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setTimeout</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> timeout </span><span class="pun">)</span></li><li class="L8"><span class="pln">    </span><span class="pun">{</span></li><li class="L9"><span class="pln">        _timeout </span><span class="pun">=</span><span class="pln"> timeout</span><span class="pun">;</span></li><li class="L0"><span class="pln">    </span><span class="pun">}</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setOptions</span><span class="pun">(</span><span class="pln"> </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> options </span><span class="pun">)</span></li><li class="L3"><span class="pln">    </span><span class="pun">{</span></li><li class="L4"><span class="pln">        _options </span><span class="pun">=</span><span class="pln"> options</span><span class="pun">;</span></li><li class="L5"><span class="pln">    </span><span class="pun">}</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> execute</span><span class="pun">()</span></li><li class="L8"><span class="pln">        </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">MojoExecutionException</span></li><li class="L9"><span class="pln">    </span><span class="pun">{</span></li><li class="L0"><span class="pln">        </span><span class="pun">...</span></li><li class="L1"><span class="pln">    </span><span class="pun">}</span></li><li class="L2"><span class="pun">}</span></li></ol></pre></div>
<p>Note the specification of the property name for each parameter which tells Maven what setter and getter to use when the field's name does not match the intended name of the parameter in the plugin configuration.</p></section><section>
<h3><a name="Resources"></a>Resources</h3>
<ol style="list-style-type: decimal">
<li><a href="http://maven.apache.org/developers/mojo-api-specification.html">Mojo Documentation</a>: Mojo API, Mojo annotations</li>
<li><a href="http://maven.apache.org/shared/maven-plugin-testing-harness/">Maven Plugin Testing Harness</a>: Testing framework for your Mojos.</li>
<li><a class="externalLink" href="https://codehaus-plexus.github.io/">Plexus</a>: The IoC container used by Maven.</li>
<li><a class="externalLink" href="https://codehaus-plexus.github.io/plexus-utils/">Plexus Common Utilities</a>: Set of utilities classes useful for Mojo development.</li>
<li><a class="externalLink" href="http://commons.apache.org/io/">Commons IO</a>: Set of utilities classes useful for file/path handling.</li>
<li><a href="http://maven.apache.org/plugin-developers/common-bugs.html">Common Bugs and Pitfalls</a>: Overview of problematic coding patterns.</li></ol></section></section>
        </div>
      </div>
    </div>
    <hr>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright ©2002–2019
<a href="https://www.apache.org/">The Apache Software Foundation</a>.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  
</body></html>