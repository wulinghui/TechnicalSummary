(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{448:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_1-包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-包"}},[s._v("#")]),s._v(" 1. 包")]),s._v(" "),t("p",[s._v("Go语言是使用包来组织源代码的，包（package）是多个 Go 源码的集合，是一种高级的代码复用方案。Go语言中为我们提供了很多内置包，如 fmt、os、io 等。")]),s._v(" "),t("p",[s._v("任何源代码文件必须属于某个包，同时源码文件的第一行有效代码必须是"),t("code",[s._v("package pacakgeName")]),s._v("语句，通过该语句声明自己所在的包。")]),s._v(" "),t("h2",{attrs:{id:"_1-1-包的基本概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-包的基本概念"}},[s._v("#")]),s._v(" 1.1 包的基本概念")]),s._v(" "),t("p",[s._v("Go语言的包借助了目录树的组织形式，一般包的名称就是其源文件所在目录的名称，虽然Go语言没有强制要求包名必须和其所在的目录名同名，但还是建议包名和所在目录同名，这样结构更清晰。")]),s._v(" "),t("p",[s._v("包可以定义在很深的目录中，包名的定义是不包括目录路径的，但是包在引用时一般使用全路径引用。")]),s._v(" "),t("p",[s._v("包的习惯用法：")]),s._v(" "),t("ul",[t("li",[s._v("包名一般是小写的，使用一个简短且有意义的名称。")]),s._v(" "),t("li",[s._v("包名一般要和所在的目录同名，也可以不同，包名中不能包含"),t("code",[s._v("-")]),s._v("等特殊符号。")]),s._v(" "),t("li",[s._v("包名为 main 的包为应用程序的入口包，编译不包含 main 包的源码文件时不会得到可执行文件。")]),s._v(" "),t("li",[s._v("一个文件夹下的所有源码文件只能属于同一个包，同样属于同一个包的源码文件不能放在多个文件夹下。")])]),s._v(" "),t("h2",{attrs:{id:"_1-2-包的导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-包的导入"}},[s._v("#")]),s._v(" 1.2 包的导入")]),s._v(" "),t("p",[s._v("要在代码中引用其他包的内容，需要使用 import 关键字导入使用的包。具体语法如下：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"包的路径"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注意事项：")]),s._v(" "),t("ul",[t("li",[s._v("import 导入语句通常放在源码文件开头包声明语句的下面；")]),s._v(" "),t("li",[s._v("导入的包名需要使用双引号包裹起来；")])]),s._v(" "),t("p",[s._v("包的导入有两种写法，分别是单行导入和多行导入。")]),s._v(" "),t("p",[t("strong",[s._v("单行导入")])]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"包 1 的路径"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"包 2 的路径"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("多行导入")])]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"包 1 的路径"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"包 2 的路径"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"_1-3-包的导入路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-包的导入路径"}},[s._v("#")]),s._v(" 1.3 包的导入路径")]),s._v(" "),t("p",[s._v("包的绝对路径就是"),t("code",[s._v("GOROOT/src/")]),s._v("或"),t("code",[s._v("GOPATH")]),s._v("后面包的存放路径，如下所示：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lab/test"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database/sql/driver"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database/sql"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("上面代码的含义如下：")]),s._v(" "),t("ul",[t("li",[s._v("test 包是自定义的包，其源码位于"),t("code",[s._v("GOPATH/lab/test")]),s._v("目录下；")]),s._v(" "),t("li",[s._v("driver 包的源码位于"),t("code",[s._v("GOROOT/src/database/sql/driver")]),s._v("目录下；")]),s._v(" "),t("li",[s._v("sql 包的源码位于"),t("code",[s._v("GOROOT/src/database/sql")]),s._v("目录下。")])]),s._v(" "),t("h2",{attrs:{id:"_1-4-包的引用格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-包的引用格式"}},[s._v("#")]),s._v(" 1.4 包的引用格式")]),s._v(" "),t("p",[s._v("包的引用有四种格式，下面以 fmt 包为例来分别演示一下这四种格式。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("标准引用格式")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此时可以用"),t("code",[s._v("fmt.")]),s._v("作为前缀来使用 fmt 包中的方法，这是常用的一种方式。")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    fmt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms的go教程"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("自定义别名引用格式")]),s._v(" "),t("p",[s._v("在导入包的时候，我们还可以为导入的包设置别名，如下所示：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" F "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中 F 就是 fmt 包的别名，使用时我们可以使用"),t("code",[s._v("F.")]),s._v("来代替标准引用格式的"),t("code",[s._v("fmt.")]),s._v("来作为前缀使用 fmt 包中的方法")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" F "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    F"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms的go教程"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("省略引用格式")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这种格式相当于把 fmt 包直接合并到当前程序中，在使用 fmt 包内的方法是可以不用加前缀"),t("code",[s._v("fmt.")]),s._v("，直接引用。")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//不需要加前缀 fmt.")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms的go教程"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("匿名引用格式")]),s._v(" "),t("p",[s._v("在引用某个包时，如果只是希望执行包初始化的 init 函数，而不使用包内部的数据时，可以使用匿名引用格式，如下所示：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("_")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("匿名导入的包与其他方式导入的包一样都会被编译到可执行文件中。")]),s._v(" "),t("p",[s._v("使用标准格式引用包，但是代码中却没有使用包，编译器会报错。如果包中有 init 初始化函数，则通过"),t("code",[s._v('import _ "包的路径"')]),s._v("这种方式引用包，仅执行包的初始化函数，即使包没有 init 初始化函数，也不会引发编译器报错。")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("_")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database/sql"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    fmt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms的go教程"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])])]),s._v(" "),t("p",[s._v("注意：")]),s._v(" "),t("ul",[t("li",[s._v("一个包可以有多个 init 函数，包加载时会执行全部的 init 函数，但并不能保证执行顺序，所以不建议在一个包中放入多个 init 函数，将需要初始化的逻辑放到一个 init 函数里面。")]),s._v(" "),t("li",[s._v("包不能出现环形引用的情况，比如包 a 引用了包 b，包 b 引用了包 c，如果包 c 又引用了包 a，则编译不能通过。")]),s._v(" "),t("li",[s._v("包的重复引用是允许的，比如包 a 引用了包 b 和包 c，包 b 和包 c 都引用了包 d。这种场景相当于重复引用了 d，这种情况是允许的，并且 Go 编译器保证包 d 的 init 函数只会执行一次。")])]),s._v(" "),t("h1",{attrs:{id:"_2-go-mod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-go-mod"}},[s._v("#")]),s._v(" 2. go mod")]),s._v(" "),t("p",[s._v("go module 是Go语言从 1.11 版本之后官方推出的版本管理工具，并且从 Go1.13 版本开始，go module 成为了Go语言默认的依赖管理工具。")]),s._v(" "),t("p",[s._v("Modules 官方定义为：")]),s._v(" "),t("blockquote",[t("p",[s._v("Modules 是相关 Go 包的集合，是源代码交换和版本控制的单元。Go语言命令直接支持使用 Modules，包括记录和解析对其他模块的依赖性，Modules 替换旧的基于 GOPATH 的方法，来指定使用哪些源文件。")])]),s._v(" "),t("p",[s._v("使用go module之前需要设置环境变量：")]),s._v(" "),t("ol",[t("li",[s._v("GO111MODULE=on")]),s._v(" "),t("li",[s._v("GOPROXY="),t("a",{attrs:{href:"https://goproxy.io%2Cdirect/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://goproxy.io,direct"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("GOPROXY=https://goproxy.cn,direct(国内的七牛云提供)")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("go "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GO111MODULE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("on\ngo "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://goproxy.cn,direct\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("GO111MODULE 有三个值：off, on和auto（默认值）。")])]),s._v(" "),t("ul",[t("li",[s._v("GO111MODULE=off，go命令行将不会支持module功能，寻找依赖包的方式将会沿用旧版本那种通过vendor目录或者GOPATH模式来查找。")]),s._v(" "),t("li",[s._v("GO111MODULE=on，go命令行会使用modules，而一点也不会去GOPATH目录下查找。")]),s._v(" "),t("li",[s._v("GO111MODULE=auto，默认值，go命令行将会根据当前目录来决定是否启用module功能。这种情况下可以分为两种情形：\n"),t("ul",[t("li",[s._v("当前目录在GOPATH之外且该目录包含go.mod文件 开启")]),s._v(" "),t("li",[s._v("当处于 GOPATH 内且没有 go.mod 文件存在时其行为会等同于 GO111MODULE=off")])])]),s._v(" "),t("li",[s._v("如果不使用 Go Modules, go get 将会从模块代码的 master 分支拉取")]),s._v(" "),t("li",[s._v("而若使用 Go Modules 则你可以利用 Git Tag 手动选择一个特定版本的模块代码")])]),s._v(" "),t("p",[t("strong",[s._v("go mod 有以下命令：")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("命令")]),s._v(" "),t("th",[s._v("说明")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("download")]),s._v(" "),t("td",[s._v("download modules to local cache(下载依赖包)")])]),s._v(" "),t("tr",[t("td",[s._v("edit")]),s._v(" "),t("td",[s._v("edit go.mod from tools or scripts（编辑go.mod)")])]),s._v(" "),t("tr",[t("td",[s._v("graph")]),s._v(" "),t("td",[s._v("print module requirement graph (打印模块依赖图)")])]),s._v(" "),t("tr",[t("td",[s._v("init")]),s._v(" "),t("td",[s._v("initialize new module in current directory（在当前目录初始化mod）")])]),s._v(" "),t("tr",[t("td",[s._v("tidy")]),s._v(" "),t("td",[s._v("add missing and remove unused modules(拉取缺少的模块，移除不用的模块)")])]),s._v(" "),t("tr",[t("td",[s._v("vendor")]),s._v(" "),t("td",[s._v("make vendored copy of dependencies(将依赖复制到vendor下)")])]),s._v(" "),t("tr",[t("td",[s._v("verify")]),s._v(" "),t("td",[s._v("verify dependencies have expected content (验证依赖是否正确）")])]),s._v(" "),t("tr",[t("td",[s._v("why")]),s._v(" "),t("td",[s._v("explain why packages or modules are needed(解释为什么需要依赖)")])])])]),s._v(" "),t("ul",[t("li",[s._v("常用的有 "),t("code",[s._v("init tdiy edit")])])]),s._v(" "),t("p",[t("strong",[s._v("使用go get命令下载指定版本的依赖包：")])]),s._v(" "),t("p",[s._v("执行"),t("code",[s._v("go get")]),s._v("命令，在下载依赖包的同时还可以指定依赖包的版本。")]),s._v(" "),t("ul",[t("li",[s._v("运行"),t("code",[s._v("go get -u")]),s._v("命令会将项目中的包升级到最新的次要版本或者修订版本；")]),s._v(" "),t("li",[s._v("运行"),t("code",[s._v("go get -u=patch")]),s._v("命令会将项目中的包升级到最新的修订版本；")]),s._v(" "),t("li",[s._v("运行"),t("code",[s._v("go get [包名]@[版本号]")]),s._v("命令会下载对应包的指定版本或者将对应包升级到指定的版本。")])]),s._v(" "),t("blockquote",[t("p",[s._v("提示："),t("code",[s._v("go get [包名]@[版本号]")]),s._v("命令中版本号可以是 x.y.z 的形式，例如 go get foo@v1.2.3，也可以是 git 上的分支或 tag，例如 go get foo@master，还可以是 git 提交时的哈希值，例如 go get foo@e3702bed2。")])]),s._v(" "),t("h2",{attrs:{id:"_2-1-项目中使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-项目中使用"}},[s._v("#")]),s._v(" 2.1 项目中使用")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在 GOPATH 目录下新建一个目录，并使用"),t("code",[s._v("go mod init")]),s._v("初始化生成 go.mod 文件。")]),s._v(" "),t("p",[s._v("go.mod 文件一旦创建后，它的内容将会被 go toolchain 全面掌控，go toolchain 会在各类命令执行时，比如"),t("code",[s._v("go get")]),s._v("、"),t("code",[s._v("go build")]),s._v("、"),t("code",[s._v("go mod")]),s._v("等修改和维护 go.mod 文件。")]),s._v(" "),t("p",[s._v("go.mod 提供了 module、require、replace 和 exclude 四个命令：")]),s._v(" "),t("ul",[t("li",[s._v("module 语句指定包的名字（路径）；")]),s._v(" "),t("li",[s._v("require 语句指定的依赖项模块；")]),s._v(" "),t("li",[s._v("replace 语句可以替换依赖项模块；")]),s._v(" "),t("li",[s._v("exclude 语句可以忽略依赖项模块。")])]),s._v(" "),t("p",[s._v("初始化生成的 go.mod 文件如下所示：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("module hello\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("添加依赖。")]),s._v(" "),t("p",[s._v("新建一个 main.go 文件，写入以下代码：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"net/http"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github.com/labstack/echo"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" echo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("New")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("GET")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c echo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("error")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StatusOK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello, World!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Logger"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Fatal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Start")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":1323"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("执行"),t("code",[s._v("go mod tidy")]),s._v("运行代码会发现 go mod 会自动查找依赖自动下载")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" finding module "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("echo\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" found github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("echo in github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("echo v3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("incompatible\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" finding module "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stretchr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("testify"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("assert\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" finding module "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" finding module "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("color\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" finding module "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" golang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("acme"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("autocert\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" found github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("color in github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" found github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log in github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" found golang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("acme"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("autocert in golang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20220112180741")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("5e0467b6c7ce\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" found github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stretchr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("testify"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("assert in github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stretchr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("testify v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("go.mod中的内容：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("module learning09\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.17")]),s._v("\n\nrequire github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("echo v3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("incompatible\n\nrequire "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tgithub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labstack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gommon v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgithub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mattn"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("colorable v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgithub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mattn"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("isatty v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgithub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("valyala"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bytebufferpool v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgithub"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("valyala"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fasttemplate v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgolang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20220112180741")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("5e0467b6c7ce "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgolang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("net v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20211112202133")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("69e39bad7dc2 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgolang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sys v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20211103235746")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("7861aae1554b "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n\tgolang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("text v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[t("strong",[s._v("go module 安装 package 的原则是先拉取最新的 release tag，若无 tag 则拉取最新的 commit")])]),s._v(" "),t("p",[s._v("go 会自动生成一个 go.sum 文件来记录 dependency tree。")]),s._v(" "),t("p",[s._v("执行脚本"),t("code",[s._v("go run main.go")]),s._v("，就可以运行项目。")]),s._v(" "),t("p",[s._v("可以使用命令"),t("code",[s._v("go list -m -u all")]),s._v("来检查可以升级的 package，使用"),t("code",[s._v("go get -u need-upgrade-package")]),s._v("升级后会将新的依赖版本更新到 go.mod ，")]),s._v(" "),t("p",[s._v("比如："),t("code",[s._v("go get -u github.com/labstack/gommon")])]),s._v(" "),t("p",[s._v("也可以使用"),t("code",[s._v("go get -u")]),s._v("升级所有依赖。")])]),s._v(" "),t("li",[t("p",[s._v("一般使用包之前，是首先执行"),t("code",[s._v("go get")]),s._v("命令，先下载依赖。比如 "),t("code",[s._v("github.com/labstack/echo")])])])]),s._v(" "),t("p",[t("strong",[s._v("使用 replace 替换无法直接获取的 package：")])]),s._v(" "),t("p",[s._v("由于某些已知的原因，并不是所有的 package 都能成功下载，比如：golang.org 下的包。")]),s._v(" "),t("p",[s._v("modules 可以通过在 go.mod 文件中使用 replace 指令替换成 github 上对应的库，比如：")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("replace "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    golang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20190313024323")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a1f597ede03a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("golang"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20190313024323")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a1f597ede03a\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("replace golang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20190313024323")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a1f597ede03a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("golang"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crypto v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20190313024323")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a1f597ede03a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[t("code",[s._v("go install")]),s._v("命令将项目打包安装为可执行文件，在安装在GOPATH的bin目录下，go install执行的项目 必须有main方法")])]),s._v(" "),t("h1",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("ul",[t("li",[s._v("包:")])]),s._v(" "),t("blockquote",[t("p",[s._v("匿名引用只执行init方法。\n建议只能有一个init方法。\n重复引用只执行一次init方法。")])]),s._v(" "),t("ul",[t("li",[s._v("go mod： 类似于mvn[官方维护]")])]),s._v(" "),t("blockquote",[t("p",[s._v("和代码关联[可以精细到某次提交]，不需要上传到仓库中心拉取。 这样发布比mvn要简单。\nreplace  解决翻墙问题。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);