(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{539:function(s,a,t){"use strict";t.r(a);var e=t(7),v=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[s._v("#")]),s._v(" 注意")]),s._v(" "),a("ul",[a("li",[s._v("【重要】所有对应配套的组件，版本要一致，es的版本之间有很大的区别。如: "),a("strong",[s._v("7.6.1")])])]),s._v(" "),a("h1",{attrs:{id:"安装elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装elasticsearch"}},[s._v("#")]),s._v(" 安装Elasticsearch")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("创建普通用户 ： ES不能使用root用户来启动，必须使用普通用户来安装启动。")])]),s._v(" "),a("li",[a("p",[s._v("上传压缩包并解压")])]),s._v(" "),a("li",[a("p",[s._v("修改配置文件： 用对应创建的用户")])]),s._v(" "),a("li",[a("p",[s._v("修改jvm.option ： 调整jvm堆内存大小，es特别吃内存。")])]),s._v(" "),a("li",[a("p",[s._v("修改系统配置，解决启动时候的问题")]),s._v(" "),a("blockquote",[a("p",[s._v("普通用户打开文件的最大数限制  "),a("code",[s._v("sudo vi /etc/security/limits.conf")])]),s._v(" "),a("p",[s._v("普通用户启动线程数限制  "),a("code",[s._v("sudo vi /etc/security/limits.d/90‐nproc.conf")])]),s._v(" "),a("p",[s._v("普通用户调大虚拟内存 sudo vi  /etc/sysctl.conf")])])]),s._v(" "),a("li",[a("p",[s._v("启动ES服务")])])]),s._v(" "),a("h1",{attrs:{id:"elasticsearch集群环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch集群环境搭建"}},[s._v("#")]),s._v(" Elasticsearch集群环境搭建")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("将安装包分发到其他服务器上面")])]),s._v(" "),a("li",[a("p",[s._v("修改elasticsearch.yml")])]),s._v(" "),a("li",[a("p",[s._v("修改jvm.option")])]),s._v(" "),a("li",[a("p",[s._v("node2与node3修改es配置文件")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name 一致\nnode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name 不一致\ndiscovery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("seed_hosts 和上面的节点ip一致\ncluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("initial_master_nodes 和设置的名称一致    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("h1",{attrs:{id:"elasticsearch-head插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-head插件"}},[s._v("#")]),s._v(" Elasticsearch-head插件")]),s._v(" "),a("p",[s._v("这个插件是es提供的一个用于图形化界面查看的一个插件工具，可以安装上这个插件之后，通过这个插件来实现我们通过浏览器查看es当中的数据")]),s._v(" "),a("p",[s._v("步骤:")]),s._v(" "),a("ul",[a("li",[s._v("安装"),a("strong",[s._v("nodejs")])]),s._v(" "),a("li",[s._v("下载安装包，然后进行解压")]),s._v(" "),a("li",[s._v("创建软连接")]),s._v(" "),a("li",[s._v("修改环境变量")]),s._v(" "),a("li",[s._v("启动验证nodes安装成功")]),s._v(" "),a("li",[s._v("上传压缩包到/usr/local/es路径下去,解压安装包")]),s._v(" "),a("li",[s._v("机器修改Gruntfile.js")]),s._v(" "),a("li",[s._v("机器修改app.js")]),s._v(" "),a("li",[s._v("启动head服务")]),s._v(" "),a("li",[s._v("访问elasticsearch-head界面")])]),s._v(" "),a("h1",{attrs:{id:"安装ik分词器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装ik分词器"}},[s._v("#")]),s._v(" 安装IK分词器")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/medcl/elasticsearch-analysis-ik/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载Elasticsearch IK分词器"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("切换es安装用户")]),s._v(" "),a("li",[s._v("并在es的安装目录下/plugins创建ik目录")]),s._v(" "),a("li",[s._v("将下载的ik分词器上传并解压到该目录")]),s._v(" "),a("li",[s._v("重启Elasticsearch")])]),s._v(" "),a("h1",{attrs:{id:"客户端kibana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端kibana"}},[s._v("#")]),s._v(" 客户端Kibana")]),s._v(" "),a("ul",[a("li",[s._v("下载Kibana放之/usr/local/es目录中")]),s._v(" "),a("li",[s._v("解压文件")]),s._v(" "),a("li",[s._v("修改配置文件: vi kibana.yml      ;  server.host、elasticsearch.hosts")]),s._v(" "),a("li",[s._v("启动Kibana")]),s._v(" "),a("li",[s._v("访问")])]),s._v(" "),a("h1",{attrs:{id:"安装filebeat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装filebeat"}},[s._v("#")]),s._v(" 安装FileBeat")]),s._v(" "),a("ul",[a("li",[s._v("将FileBeat Linux安装包上传到Linux系统")]),s._v(" "),a("li",[s._v("并将压缩包解压到系统就可以了")]),s._v(" "),a("li",[s._v("创建配置文件")]),s._v(" "),a("li",[s._v("启动 ： ./filebeat -c filebeat_mq_log.yml -e")])]),s._v(" "),a("h1",{attrs:{id:"安装logstash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装logstash"}},[s._v("#")]),s._v(" 安装Logstash")]),s._v(" "),a("ol",[a("li",[s._v("下载Logstash")]),s._v(" "),a("li",[s._v("解压Logstash到指定目录")]),s._v(" "),a("li",[s._v("运行测试")])])])}),[],!1,null,null,null);a.default=v.exports}}]);