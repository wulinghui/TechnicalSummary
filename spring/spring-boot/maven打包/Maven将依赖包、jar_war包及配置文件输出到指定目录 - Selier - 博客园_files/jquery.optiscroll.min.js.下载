/**
 * Minified by jsDelivr using UglifyJS v3.4.4.
 * Original file: /gh/BNDong/Cnblogs-Theme-SimpleMemory@8fefc5cfe0a4f2aaf357dff2a9c7e6527f369398/js/jquery.optiscroll.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(h,g,b,s){"use strict";var e,l;"function"==typeof h.CustomEvent||function(e){function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:s};var n=g.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}t.prototype=e.Event.prototype,e.CustomEvent=t}(h),h.requestAnimationFrame||(l=0,(e=h).requestAnimationFrame=function(e){var t=Date.now(),n=b.max(l+16,t);return setTimeout(function(){e(l=n)},n-t)},e.cancelAnimationFrame=clearTimeout);var o=function e(t,n){return new e.Instance(t,n||{})},a=o.globalSettings={scrollMinUpdateInterval:25,checkFrequency:1e3,pauseCheck:!1};o.defaults={preventParentScroll:!1,forceScrollbars:!1,scrollStopDelay:300,maxTrackSize:95,minTrackSize:5,draggableTracks:!0,autoUpdate:!0,classPrefix:"optiscroll-"},(o.Instance=function(e,t){var n=this;n.element=e,n.settings=C(C({},o.defaults),t||{}),n.cache={},n.init()}).prototype={init:function(){var e=this,t=e.settings,n=!1;e.scrollEl=p.createWrapper(e.element,t.classPrefix+"content"),y(e.element,"is-enabled",!0),e.scrollbars={v:i("v",e),h:i("h",e)},(E.nativeScrollbarSize||t.forceScrollbars)&&(n=p.hideNativeScrollbars(e.scrollEl)),n&&f(e.scrollbars,"create"),E.isTouch&&t.preventParentScroll&&y(e.element,t.classPrefix+"prevent",!0),e.update(),e.bind(),t.autoUpdate&&E.instances.push(e),t.autoUpdate&&!E.checkTimer&&p.checkLoop()},bind:function(){var l,o,r,c,t=this,e=t.listeners={},n=t.scrollEl;for(var i in e.scroll=(l=function(e){u.scroll(e,t)},o=a.scrollMinUpdateInterval,function(){var e=this,t=Date.now(),n=arguments;r&&t<r+o?(clearTimeout(c),c=setTimeout(function(){r=t,l.apply(e,n)},o)):(r=t,l.apply(e,n))}),E.isTouch&&(e.touchstart=function(e){u.touchstart(e,t)},e.touchend=function(e){u.touchend(e,t)}),e.mousewheel=e.wheel=function(e){u.wheel(e,t)},e)n.addEventListener(i,e[i])},update:function(){var e=this,t=e.cache.clientH,n=e.scrollEl,l=e.cache,o=n.scrollHeight,r=n.clientHeight,c=n.scrollWidth,i=n.clientWidth;if(o!==l.scrollH||r!==l.clientH||c!==l.scrollW||i!==l.clientW){if(l.scrollH=o,l.clientH=r,l.scrollW=c,l.clientW=i,t!==s){if(0===o&&0===r&&!p.containsNode(g.body,e.element))return e.destroy(),!1;e.fireCustomEvent("sizechange")}f(e.scrollbars,"update")}},scrollTo:function(e,t,n){var l,o,r,c,i=this,s=i.cache;E.pauseCheck=!0,i.update(),l=i.scrollEl.scrollLeft,o=i.scrollEl.scrollTop,r=+e,"left"===e&&(r=0),"right"===e&&(r=s.scrollW-s.clientW),!1===e&&(r=l),c=+t,"top"===t&&(c=0),"bottom"===t&&(c=s.scrollH-s.clientH),!1===t&&(c=o),i.animateScroll(l,r,o,c,+n)},scrollIntoView:function(e,t,n){var l,o,r,c,i,s,a,u,h,p,d,f,m=this,v=m.scrollEl;E.pauseCheck=!0,m.update(),"string"==typeof e?e=v.querySelector(e):e.length&&e.jquery&&(e=e[0]),"number"==typeof n&&(n={top:n,right:n,bottom:n,left:n}),n=n||{},l=e.getBoundingClientRect(),o=v.getBoundingClientRect(),h=d=v.scrollLeft,p=f=v.scrollTop,a=h+l.left-o.left,u=p+l.top-o.top,r=a-(n.left||0),c=u-(n.top||0),r<h&&(d=r),h<(i=a+l.width-m.cache.clientW+(n.right||0))&&(d=i),c<p&&(f=c),p<(s=u+l.height-m.cache.clientH+(n.bottom||0))&&(f=s),m.animateScroll(h,d,p,f,+t)},animateScroll:function(l,o,r,c,i){var s=this,a=s.scrollEl,u=Date.now();if(o!==l||c!==r){if(0===i)return a.scrollLeft=o,void(a.scrollTop=c);isNaN(i)&&(i=15*b.pow(b.max(b.abs(o-l),b.abs(c-r)),.54)),function e(){var t=b.min(1,(Date.now()-u)/i),n=p.easingFunction(t);c!==r&&(a.scrollTop=~~(n*(c-r))+r),o!==l&&(a.scrollLeft=~~(n*(o-l))+l),s.scrollAnimation=t<1?h.requestAnimationFrame(e):null}()}},destroy:function(){var e,t=this,n=t.element,l=t.scrollEl,o=t.listeners,r=E.instances.indexOf(t);if(t.scrollEl){for(var c in o)l.removeEventListener(c,o[c]);for(f(t.scrollbars,"remove");e=l.childNodes[0];)n.insertBefore(e,l);n.removeChild(l),t.scrollEl=null,y(n,t.settings.classPrefix+"prevent",!1),y(n,"is-enabled",!1),-1<r&&h.requestAnimationFrame(function(){E.instances.splice(r,1)})}},fireCustomEvent:function(e){var t,n=this.cache,l=n.scrollH,o=n.scrollW;t={scrollbarV:C({},n.v),scrollbarH:C({},n.h),scrollTop:n.v.position*l,scrollLeft:n.h.position*o,scrollBottom:(1-n.v.position-n.v.size)*l,scrollRight:(1-n.h.position-n.h.size)*o,scrollWidth:o,scrollHeight:l,clientWidth:n.clientW,clientHeight:n.clientH},this.element.dispatchEvent(new CustomEvent(e,{detail:t}))}};var t,n,r,c,u={scroll:function(e,t){E.pauseCheck||t.fireCustomEvent("scrollstart"),E.pauseCheck=!0,t.scrollbars.v.update(),t.scrollbars.h.update(),t.fireCustomEvent("scroll"),clearTimeout(t.cache.timerStop),t.cache.timerStop=setTimeout(function(){u.scrollStop(t)},t.settings.scrollStopDelay)},touchstart:function(e,t){E.pauseCheck=!1,t.scrollbars.v.update(),t.scrollbars.h.update(),u.wheel(e,t)},touchend:function(e,t){clearTimeout(t.cache.timerStop)},scrollStop:function(e){e.fireCustomEvent("scrollstop"),E.pauseCheck=!1},wheel:function(e,t){var n=t.cache,l=n.v,o=n.h,r=t.settings.preventParentScroll;h.cancelAnimationFrame(t.scrollAnimation),r&&l.enabled&&l.percent%100==0&&(t.scrollEl.scrollTop=l.percent?n.scrollH-n.clientH-1:1),r&&o.enabled&&o.percent%100==0&&(t.scrollEl.scrollLeft=o.percent?n.scrollW-n.clientW-1:1)}},i=function(t,n){var o="v"===t,l=n.element,c=n.scrollEl,i=n.settings,s=n.cache,r=s[t]={},e=o?"H":"W",a="client"+e,u="scroll"+e,h=o?"scrollTop":"scrollLeft",p=o?["top","bottom"]:["left","right"],d=!1,f=null,m=null,v={dragData:null,dragStart:function(e){var t=e.touches?e.touches[0]:e;v.dragData={x:t.pageX,y:t.pageY,scroll:c[h]},v.bind(!0)},dragMove:function(e){var t,n=e.touches?e.touches[0]:e;e.preventDefault(),t=(o?n.pageY-v.dragData.y:n.pageX-v.dragData.x)/s[a],c[h]=v.dragData.scroll+t*s[u]},dragEnd:function(){v.dragData=null,v.bind(!1)},bind:function(e){var t=(e?"add":"remove")+"EventListener",n=E.isTouch?["touchmove","touchend"]:["mousemove","mouseup"];g[t](n[0],v.dragMove),g[t](n[1],v.dragEnd)}};return{toggle:function(e){d=e,m&&y(l,"has-"+t+"track",d),r.enabled=d},create:function(){var e=E.isTouch?"touchstart":"mousedown";f=g.createElement("div"),m=g.createElement("b"),f.className=i.classPrefix+t,m.className=i.classPrefix+t+"track",f.appendChild(m),l.appendChild(f),i.draggableTracks&&m.addEventListener(e,v.dragStart)},update:function(){var e,t,n,l,o;(d||s[a]!==s[u])&&(e=(n=this.calc()).size,t=r.size,l=1/e*n.position*100,o=b.abs(n.position-(r.position||0))*s[a],1===e&&d&&this.toggle(!1),e<1&&!d&&this.toggle(!0),m&&d&&this.style(l,o,e,t),r=C(r,n),d&&this.fireEdgeEv())},style:function(e,t,n,l){n!==l&&(m.style[o?"height":"width"]=100*n+"%"),m.style[E.cssTransform]="translate("+(o?"0%,"+e+"%":e+"%,0%")+")"},calc:function(){var e,t=c[h],n=s[a],l=s[u],o=n/l,r=l-n;return 1<=o||!l?{position:0,size:1,percent:0}:(e=100*t/r,t<=1&&(e=0),r-1<=t&&(e=100),o=b.max(o,i.minTrackSize/100),{position:e/100*(1-(o=b.min(o,i.maxTrackSize/100))),size:o,percent:e})},fireEdgeEv:function(){var e=r.percent;r.was!==e&&e%100==0&&(n.fireCustomEvent("scrollreachedge"),n.fireCustomEvent("scrollreach"+p[e/100])),r.was=e},remove:function(){this.toggle(!1),f&&(f.parentNode.removeChild(f),f=null)}}},p={hideNativeScrollbars:function(e){var t=E.nativeScrollbarSize,n=e.style;if(0===t){var l=Date.now();return e.setAttribute("data-scroll",l),p.addCssRule('[data-scroll="'+l+'"]::-webkit-scrollbar',"display:none;width:0;height:0;")}return n.right=-t+"px",n.bottom=-t+"px",!0},addCssRule:function(e,t){var n=g.getElementById("scroll-sheet");n||((n=g.createElement("style")).id="scroll-sheet",n.appendChild(g.createTextNode("")),g.head.appendChild(n));try{return n.sheet.insertRule(e+" {"+t+"}",0),!0}catch(e){return}},createWrapper:function(e,t){for(var n,l=g.createElement("div");n=e.childNodes[0];)l.appendChild(n);return l.className=t,e.appendChild(l)},containsNode:function(e,t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},checkLoop:function(){E.instances.length?(E.pauseCheck||f(E.instances,"update"),a.checkFrequency&&(E.checkTimer=setTimeout(function(){p.checkLoop()},a.checkFrequency))):E.checkTimer=null},easingFunction:function(e){return--e*e*e+1}},E=o.G={isTouch:"ontouchstart"in h,cssTransition:d("transition"),cssTransform:d("transform")||"",nativeScrollbarSize:(r=g.documentElement,c=0,(t=g.createElement("div")).style.cssText="overflow:scroll;width:50px;height:50px;position:absolute;left:-100px",(n=g.createElement("div")).style.cssText="width:100px;height:100px",t.appendChild(n),r.appendChild(t),c=t.offsetWidth-t.clientWidth,r.removeChild(t),c),instances:[],checkTimer:null,pauseCheck:!1};function d(e){var t=e.charAt(0).toUpperCase()+e.slice(1),n=g.createElement("test"),l=(e+" "+["Webkit","Moz","O","ms"].join(t+" ")+t).split(" ");for(var o in l)if(n.style[l[o]]!==s)return l[o];return!1}function y(e,t,n){var l=e.className.split(/\s+/),o=l.indexOf(t);n?~o||l.push(t):~o&&l.splice(o,1),e.className=l.join(" ")}function C(e,t,n){for(var l in t)!t.hasOwnProperty(l)||e[l]!==s&&n||(e[l]=t[l]);return e}function f(e,t,n){var l,o;if(e.length)for(l=0,o=e.length;l<o;l++)e[l][t].apply(e[l],n);else for(l in e)e[l][t].apply(e[l],n)}"function"==typeof define&&define.amd&&define(function(){return o}),"undefined"!=typeof module&&module.exports&&(module.exports=o),h.Optiscroll=o}(window,document,Math),function(r){var c="optiscroll";r.fn[c]=function(n){var l,o;return"string"==typeof n&&(o=Array.prototype.slice.call(arguments),l=o.shift()),this.each(function(){var e=r(this),t=e.data(c);t?t&&"string"==typeof l&&(t[l].apply(t,o),"destroy"===l&&e.removeData(c)):(t=new window.Optiscroll(this,n||{}),e.data(c,t))})}}(jQuery||Zepto);
//# sourceMappingURL=/sm/d77506f4deb2f83c5b7b5b3799489a0be195a90630f42e950b2e86f37fdf3444.map